{% extends "layouts/default.html" %}
{% block head %}
  {{ super() }}
  <style type="text/css">
    body {
      padding-top: 60px;
      padding-bottom: 40px;
    }
    .sidebar-nav {
      padding: 9px 0;
    }

    @media (max-width: 980px) {
      /* Enable use of floated navbar text */
      .navbar-text.pull-right {
        float: none;
        padding-left: 5px;
        padding-right: 5px;
      }
    }

    .table td.number {
       text-align: right;
    }
    td{
      max-width: 100px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
  </style>
{% endblock %}

{% block body %}
  <script type="text/x-handlebars" data-template-name="application">

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span3">
          <div class="well sidebar-nav">
            <ul class="nav nav-list">
              <li class="nav-header">Features</li>
              {% for feature, count in features %}
              <li><a href="?q=*{{feature}}">
                {{feature}}
                <span class="badge badge-info pull-right">{{count|commas}}</span>
              </a></li>
              {% endfor %}
            </ul>
          </div><!--/.well -->
        </div><!--/span-->

        {% raw %}    
        
          <form class="form span9">
            <div class="row-fluid input-prepend">
              <span class="add-on span1">Columns:</span>
              {{view 
                Ember.TextField class="span9" 
                placeholder="Enter column expression"
                valueBinding="App.query.columns"
              }}
              
            </div>
            <div class="row-fluid input-prepend">
              <span  class="add-on ">Rows:</span>
              <input class="span9" type="text" placeholder="Enter row expresion">
            </div>
            <div class="row-fluid input-prepend">
              <span class="add-on">Filter:</span>
              <input class="span9" type="text" placeholder="Enter row expresion">
            </div>
          </form>
        
        
        <div class="pull-right">
          <i class="icon-download-alt"></i>  
          Download as: <a {{bindAttr href="App.query.url"}}>JSON</a>

          <i class="icon-edit"></i>  
          Create: <a {{bindAttr href="App.query.visualize_url"}}>Visual</a>

        </div>

        <div class='presentation-container span9'>
          {{view Ember.Table.TablesContainer controllerBinding="tableController"}}
        </div>
        {% endraw %}
 
      </div><!--/row-->

      <hr>

      <footer>
        <p>&copy; Company 2013</p>
      </footer>

    </div><!--/.fluid-container-->  
    </script>

{% endblock %}


